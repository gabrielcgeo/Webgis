{% extends 'layout.html' %}
<!-- VERSION: 2.0 - Updated with cartography background, calculator section, testimonials -->
{% block content %}



<!-- Hero Section com Background de Cartografia -->
<section class="hero-section position-relative overflow-hidden">
    <!-- Background com imagem de cartografia -->
    <div class="hero-background">
        <div class="cartography-bg"></div>
        <div class="overlay"></div>
        <div class="geometric-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
            <div class="shape shape-4"></div>
                </div>
        <div class="map-pattern"></div>
                </div>
    
    <!-- Conteúdo Principal -->
    <div class="container position-relative">
        <div class="row min-vh-100 align-items-center">
            <div class="col-lg-6">
                <div class="hero-content text-white">
                    <div class="hero-badge mb-3">
                        <i class="fas fa-globe-americas me-2"></i>
                        Plataforma WebGIS de Última Geração
                </div>
                    <h1 class="hero-title display-4 fw-bold mb-4">
                        Revolucione seus 
                        <span class="text-gradient">Dados Geográficos</span>
                    </h1>
                    <p class="hero-description lead mb-5">
                        Transforme informações espaciais em decisões estratégicas. Nossa plataforma oferece 
                        ferramentas avançadas de geoprocessamento que impulsionam o sucesso de empresas 
                        em todo o Brasil.
                    </p>
                    <div class="hero-actions">
                        <button type="button" class="btn btn-primary btn-lg me-3" onclick="openCalculator()">
                            <i class="fas fa-calculator me-2"></i>
                            Calcular Preços
                        </button>
                        <a href="#features" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-rocket me-2"></i>
                            Conhecer Recursos
                        </a>
                </div>
                </div>
                </div>
            <div class="col-lg-6">
                <div class="hero-visual text-center">
                    <div class="world-map-container">
                        <div class="world-map">
                            <i class="fas fa-globe fa-8x text-primary opacity-25"></i>
                            <div class="floating-elements">
                                <div class="floating-icon" style="--delay: 0s">
                                    <i class="fas fa-map-marker-alt text-danger"></i>
            </div>
                                <div class="floating-icon" style="--delay: 1s">
                                    <i class="fas fa-location-arrow text-success"></i>
        </div>
                                <div class="floating-icon" style="--delay: 2s">
                                    <i class="fas fa-compass text-warning"></i>
    </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="scroll-indicator">
        <div class="scroll-arrow"></div>
    </div>
</section>

<!-- Features Section -->
<section id="features" class="features-section py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto">
                <h2 class="section-title display-5 fw-bold mb-3">
                    Tecnologia de Ponta para suas Necessidades GIS
                </h2>
                <p class="section-subtitle lead text-muted">
                    Nossa plataforma combina inovação e simplicidade para oferecer a melhor experiência em geoprocessamento
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-map-marked-alt"></i>
                    </div>
                    <h4>Visualização Avançada</h4>
                    <p>Mapas interativos com múltiplas camadas e estilos personalizáveis para uma experiência visual rica e profissional.</p>
                    <div class="feature-highlights">
                        <span class="badge bg-primary">OpenStreetMap</span>
                        <span class="badge bg-info">Imagens Satelite</span>
                        <span class="badge bg-success">Terreno 3D</span>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h4>Análise Espacial</h4>
                    <p>Ferramentas poderosas para análise geográfica, medições precisas e criação de buffers e áreas de interesse estratégicas.</p>
                    <div class="feature-highlights">
                        <span class="badge bg-primary">Medições</span>
                        <span class="badge bg-info">Buffers</span>
                        <span class="badge bg-success">Áreas de Estudo</span>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-database"></i>
                    </div>
                    <h4>Gestão de Dados</h4>
                    <p>Sistema robusto para gerenciar camadas, metadados e atributos com interface intuitiva e responsiva para máxima produtividade.</p>
                    <div class="feature-highlights">
                        <span class="badge bg-primary">Metadados</span>
                        <span class="badge bg-info">Atributos</span>
                        <span class="badge bg-success">Legendas</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Calculator Modal -->
<div class="modal fade" id="calculatorModal" tabindex="-1" aria-labelledby="calculatorModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content calculator-modal">
          <div class="modal-header">
                <h5 class="modal-title" id="calculatorModalLabel">
                    <i class="fas fa-calculator me-2"></i>Calculadora Personalizada
                </h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
                <div class="row">
                    <div class="col-12 text-center mb-4">
                        <p class="text-muted">Calcule o preço exato para suas necessidades específicas</p>
            </div>
          </div>

                <div class="row">
                    <div class="col-lg-10 mx-auto">
                        <form id="pricingForm">
                            <div class="row">
                                <!-- Coluna 1 -->
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="projects" class="form-label">
                                            <i class="fas fa-project-diagram text-primary me-2"></i>Número de Projetos
                                        </label>
                                        <input type="number" class="form-control" id="projects" min="0" value="5">
                                        <small class="form-text text-muted">Projetos para organizar suas camadas</small>
        </div>

                                    <div class="mb-3">
                                        <label for="layers" class="form-label">
                                            <i class="fas fa-layer-group text-success me-2"></i>Número de Camadas
                                        </label>
                                        <input type="number" class="form-control" id="layers" min="0" value="100">
                                        <small class="form-text text-muted">Shapefiles, GeoTIFFs, KMLs, etc.</small>
                                    </div>

                                    <div class="mb-3">
                                        <label for="public_maps" class="form-label">
                                            <i class="fas fa-globe-americas text-info me-2"></i>Mapas Públicos
                                        </label>
                                        <input type="number" class="form-control" id="public_maps" min="0" value="10">
                                        <small class="form-text text-muted">Mapas compartilhados publicamente</small>
      </div>
    </div>

                                <!-- Coluna 2 -->
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="page_views" class="form-label">
                                            <i class="fas fa-eye text-warning me-2"></i>Visualizações/Mês
                                        </label>
                                        <input type="number" class="form-control" id="page_views" min="0" value="50000">
                                        <small class="form-text text-muted">Acessos aos mapas públicos</small>
          </div>

                                    <div class="mb-3">
                                        <label for="employees" class="form-label">
                                            <i class="fas fa-users text-secondary me-2"></i>Funcionários Cadastrados
                                        </label>
                                        <input type="number" class="form-control" id="employees" min="0" value="15">
                                        <small class="form-text text-muted">Usuários com acesso à plataforma</small>
        </div>

                                    <div class="mb-3">
                                        <label for="server_usage" class="form-label">
                                            <i class="fas fa-server text-danger me-2"></i>Uso do Servidor (GB)
                                        </label>
                                        <input type="number" class="form-control" id="server_usage" min="0" step="0.1" value="50">
                                        <small class="form-text text-muted">Armazenamento + transferência de dados</small>
      </div>
    </div>
</div>

                            <div class="row mt-4">
                                <div class="col-12 text-center">
                                    <button type="button" class="btn btn-primary btn-lg" onclick="calculatePrice()">
                                        <i class="fas fa-calculator me-2"></i>Calcular Preço
                                    </button>
                                    <button type="button" class="btn btn-outline-secondary ms-2" onclick="resetForm()">
                                        <i class="fas fa-undo me-2"></i>Limpar
                                    </button>
                                </div>
                            </div>
                        </form>

                        <!-- Loading -->
                        <div id="pricing-loading" class="text-center mt-4" style="display: none;">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Calculando...</span>
                            </div>
                            <p class="mt-2 text-muted">Calculando preços...</p>
                        </div>

                        <!-- Resultado -->
                        <div id="pricing-result" class="mt-4" style="display: none;">
                            <div class="result-card">
                                <div class="card-header bg-success text-white text-center">
                                    <h5 class="mb-0">
                                        <i class="fas fa-chart-line me-2"></i>Resultado do Cálculo
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <div class="row text-center">
                                        <div class="col-md-6">
                                            <div class="border-end">
                                                <h6 class="text-muted">Preço Mensal</h6>
                                                <h3 class="text-success" id="total-price">R$ 0,00</h3>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <h6 class="text-muted">Preço Anual</h6>
                                            <h4 class="text-info" id="annual-price">R$ 0,00</h4>
                                        </div>
                                    </div>

                                    <div class="mt-4">
                                        <div id="price-breakdown"></div>
                                    </div>

                                    <!-- Recomendação de Plano -->
                                    <div class="mt-4 text-center">
                                        <div id="plan-recommendation"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeCalculator()">Fechar</button>
            </div>
        </div>
    </div>
</div>

<!-- Calculator Highlight Section -->
<section class="calculator-highlight-section py-5 bg-primary text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-3">
                    <i class="fas fa-calculator me-3"></i>
                    Calculadora de Preços Inteligente
                </h2>
                <p class="lead mb-4">
                    Descubra exatamente quanto custa implementar nossa solução para sua empresa. 
                    Nossa calculadora considera todos os fatores para um orçamento preciso e transparente.
                </p>
                <div class="calculator-features">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="calc-feature">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                Cálculo automático baseado em uso real
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="calc-feature">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                Aplicação automática de descontos por volume
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="calc-feature">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                Comparação entre planos disponíveis
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="calc-feature">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                Orçamento personalizado para suas necessidades
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 text-center">
                <div class="calculator-cta">
                    <i class="fas fa-calculator fa-6x mb-3 opacity-75"></i>
                    <button type="button" class="btn btn-light btn-lg w-100" onclick="openCalculator()">
                        <i class="fas fa-rocket me-2"></i>
                        Calcular Agora
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Pricing Section -->
<section class="pricing-preview-section py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="section-title">Planos Disponíveis</h2>
                <p class="section-subtitle">Escolha o plano ideal para sua empresa</p>
            </div>
        </div>
        
        <div class="row g-4">
            <!-- Plano Starter -->
            <div class="col-lg-4 col-md-6">
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h4><i class="fas fa-seedling text-success me-2"></i>Starter</h4>
                        <p class="text-muted mb-0">Ideal para pequenas empresas</p>
                        <div class="price">A partir de <span class="amount" id="starter-price">Carregando...</span>/mês</div>
                    </div>
                    <ul class="pricing-features">
                        <li>Até 5 projetos</li>
                        <li>Até 50 camadas</li>
                        <li>Até 100 mapas públicos</li>
                        <li>Até 10.000 visualizações/mês</li>
                        <li>Até 5 funcionários</li>
                        <li>Até <span id="starter-storage">50 GB</span> de armazenamento</li>
                        <li>Suporte por email</li>
                    </ul>
                    <div class="text-center">
                        <button type="button" class="btn btn-primary" onclick="escolherPlano('Starter')">
                            <i class="fas fa-check me-2"></i>Escolher Este Plano
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Plano Professional (Featured) -->
            <div class="col-lg-4 col-md-6">
                <div class="pricing-card featured">
                    <div class="pricing-badge">Mais Popular</div>
                    <div class="pricing-header">
                        <h4><i class="fas fa-star text-warning me-2"></i>Professional</h4>
                        <p class="mb-0">Mais popular</p>
                        <div class="price">A partir de <span class="amount" id="professional-price">Carregando...</span>/mês</div>
                    </div>
                    <ul class="pricing-features">
                        <li>Até 25 projetos</li>
                        <li>Até 250 camadas</li>
                        <li>Até 500 mapas públicos</li>
                        <li>Até 100.000 visualizações/mês</li>
                        <li>Até 15 funcionários</li>
                        <li>Até <span id="professional-storage">500 GB</span> de armazenamento</li>
                        <li>Suporte prioritário</li>
                        <li>Funcionalidades avançadas</li>
                    </ul>
                    <div class="text-center">
                        <button type="button" class="btn btn-success" onclick="escolherPlano('Professional')">
                            <i class="fas fa-check me-2"></i>Escolher Este Plano
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Plano Enterprise -->
            <div class="col-lg-4 col-md-6">
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h4><i class="fas fa-building text-info me-2"></i>Enterprise</h4>
                        <p class="text-muted mb-0">Para grandes corporações</p>
                        <div class="price">A partir de <span class="amount" id="enterprise-price">Carregando...</span>/mês</div>
                    </div>
                    <ul class="pricing-features">
                        <li>Até 150 projetos</li>
                        <li>Até 1.000 camadas</li>
                        <li>Até 5.000 mapas públicos</li>
                        <li>Até 500.000 visualizações/mês</li>
                        <li>Até 100 funcionários</li>
                        <li>Até <span id="enterprise-storage">1.000 GB</span> de armazenamento</li>
                        <li>Suporte 24/7</li>
                    </ul>
                    <div class="text-center">
                        <button type="button" class="btn btn-info" onclick="escolherPlano('Enterprise')">
                            <i class="fas fa-check me-2"></i>Escolher Este Plano
                        </button>
                    </div>
                </div>
            </div>

            <!-- Plano Personalizado -->
            <div class="col-lg-4 col-md-6">
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h4><i class="fas fa-cogs text-primary me-2"></i>Personalizado</h4>
                        <p class="text-muted mb-0">Sob medida para você</p>
                        <div class="price">A partir de <span class="amount" id="custom-price">R$ 0,00</span>/mês</div>
                    </div>
                    <ul class="pricing-features">
                        <li id="custom-projects">Projetos personalizados</li>
                        <li id="custom-layers">Camadas personalizadas</li>
                        <li id="custom-maps">Mapas públicos personalizados</li>
                        <li id="custom-views">Visualizações personalizadas</li>
                        <li id="custom-employees">Funcionários personalizados</li>
                        <li id="custom-storage">Armazenamento personalizado</li>
                        <li>Suporte personalizado</li>
                    </ul>
                    <div class="text-center">
                        <button type="button" class="btn btn-warning mb-2" onclick="openCalculator()">
                            <i class="fas fa-calculator me-2"></i>Calcular Preço
                        </button>
                        <button type="button" class="btn btn-success" onclick="escolherPlano('Personalizado')">
                            <i class="fas fa-check me-2"></i>Escolher Este Plano
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto">
                <h2 class="section-title display-5 fw-bold mb-3">
                    O que nossos clientes dizem
                </h2>
                <p class="section-subtitle lead text-muted">
                    Empresas de todo o Brasil já transformaram seus dados geográficos conosco
                </p>
        </div>
    </div>

        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <div class="stars mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p class="testimonial-text">
                            "A plataforma revolucionou nossa forma de trabalhar com dados geográficos. 
                            A calculadora de preços nos ajudou a escolher o plano perfeito para nossa empresa."
                        </p>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="author-info">
                                <h6 class="mb-0">Carlos Silva</h6>
                                <small class="text-muted">Diretor de TI - GeoConsultoria Ltda</small>
                            </div>
                        </div>
                    </div>
          </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <div class="stars mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p class="testimonial-text">
                            "Excelente suporte técnico e interface intuitiva. Conseguimos implementar 
                            em tempo recorde e os resultados foram impressionantes desde o primeiro mês."
                        </p>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="author-info">
                                <h6 class="mb-0">Ana Costa</h6>
                                <small class="text-muted">Gerente de Projetos - Mapeamento Brasil</small>
            </div>
          </div>
        </div>
      </div>
    </div>

            <div class="col-lg-4 col-md-6">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <div class="stars mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p class="testimonial-text">
                            "A calculadora de preços é genial! Conseguimos dimensionar exatamente 
                            o que precisamos e o ROI foi muito superior ao esperado."
                        </p>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="author-info">
                                <h6 class="mb-0">Roberto Santos</h6>
                                <small class="text-muted">CEO - Cartografia Digital</small>
                            </div>
                        </div>
                    </div>
                </div>
          </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section py-5 text-white text-center">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-4">
                    Pronto para Transformar seus Dados Geográficos?
                </h2>
                <p class="lead mb-5">
                    Junte-se a centenas de empresas que já confiam em nossa plataforma para suas necessidades GIS. 
                    Comece hoje mesmo e veja a diferença em sua produtividade.
                </p>
                <div class="cta-actions">
                    <a href="/contato" class="btn btn-light btn-lg me-3">
                        <i class="fas fa-envelope me-2"></i>
                        Falar com Especialista
                    </a>
                    <a href="/precos" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-rocket me-2"></i>
                        Começar Agora
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section py-5">
    <div class="container">
        <div class="row text-center g-4">
            <div class="col-lg-3 col-md-6">
                <div class="stat-item">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-number">500+</div>
                    <div class="stat-label">Clientes Ativos</div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-item">
                    <div class="stat-icon">
                        <i class="fas fa-map"></i>
                    </div>
                    <div class="stat-number">10K+</div>
                    <div class="stat-label">Mapas Criados</div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-item">
                    <div class="stat-icon">
                        <i class="fas fa-database"></i>
                    </div>
                    <div class="stat-number">1M+</div>
                    <div class="stat-label">Dados Processados</div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-item">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-number">99.9%</div>
                    <div class="stat-label">Uptime Garantido</div>
        </div>
      </div>
    </div>
</div>
</section>

<!-- CSS Personalizado -->
<style>
/* Body */
body {
    font-family: 'Inter', sans-serif;
    line-height: 1.6;
    background: #0f172a;
    color: #e2e8f0;
}

/* Hero Section */
.hero-section {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    position: relative;
    overflow: hidden;
    min-height: 100vh;
    display: flex;
    align-items: center;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
}

.hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
}

.cartography-bg {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="rgba(34,197,94,0.2)"/><circle cx="80" cy="30" r="1.5" fill="rgba(34,197,94,0.2)"/><circle cx="40" cy="60" r="1" fill="rgba(34,197,94,0.2)"/><circle cx="70" cy="70" r="1.5" fill="rgba(34,197,94,0.2)"/><circle cx="10" cy="80" r="1" fill="rgba(34,197,94,0.2)"/><circle cx="90" cy="90" r="1.5" fill="rgba(34,197,94,0.2)"/></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M10,25 Q25,10 50,25 T90,25" stroke="rgba(59,130,246,0.15)" fill="none" stroke-width="0.5"/><path d="M10,50 Q25,35 50,50 T90,50" stroke="rgba(59,130,246,0.15)" fill="none" stroke-width="0.5"/><path d="M10,75 Q25,60 50,75 T90,75" stroke="rgba(59,130,246,0.15)" fill="none" stroke-width="0.5"/></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="15" y="15" width="2" height="2" fill="rgba(255,255,255,0.1)"/><rect x="35" y="25" width="2" height="2" fill="rgba(255,255,255,0.1)"/><rect x="55" y="35" width="2" height="2" fill="rgba(255,255,255,0.1)"/><rect x="75" y="45" width="2" height="2" fill="rgba(255,255,255,0.1)"/><rect x="25" y="65" width="2" height="2" fill="rgba(255,255,255,0.1)"/><rect x="45" y="75" width="2" height="2" fill="rgba(255,255,255,0.1)"/><rect x="65" y="85" width="2" height="2" fill="rgba(255,255,255,0.1)"/></svg>');
    background-size: 200px 200px, 300px 300px, 150px 150px;
    opacity: 0.4;
}

.overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(15, 23, 42, 0.7);
    z-index: 1;
}

.geometric-shapes {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 2;
}

.shape {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    animation: float 6s ease-in-out infinite;
}

.shape-1 {
    width: 100px;
    height: 100px;
    top: 20%;
    left: 10%;
    animation-delay: 0s;
}

.shape-2 {
    width: 150px;
    height: 150px;
    top: 60%;
    right: 15%;
    animation-delay: 2s;
}

.shape-3 {
    width: 80px;
    height: 80px;
    bottom: 20%;
    left: 20%;
    animation-delay: 4s;
}

.shape-4 {
    width: 120px;
    height: 120px;
    top: 30%;
    right: 30%;
    animation-delay: 1s;
}

.map-pattern {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 2px, transparent 2px),
        radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 2px, transparent 2px);
    background-size: 50px 50px;
    opacity: 0.3;
    z-index: 2;
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

.hero-content {
    position: relative;
    z-index: 3;
    color: #f8fafc;
}

.hero-badge {
    display: inline-block;
    background: rgba(34, 197, 94, 0.2);
    backdrop-filter: blur(20px);
    padding: 0.75rem 1.5rem;
    border-radius: 50px;
    border: 1px solid rgba(34, 197, 94, 0.3);
    font-weight: 500;
    letter-spacing: 0.5px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    color: #22c55e;
}

.text-gradient {
    background: linear-gradient(45deg, #22c55e, #16a34a);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.hero-actions .btn {
    padding: 1rem 2.5rem;
    border-radius: 50px;
    font-weight: 600;
    font-size: 1.1rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    border: none;
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: #fff;
}

.hero-actions .btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(0,0,0,0.4);
    background: linear-gradient(135deg, #16a34a, #15803d);
}

.hero-actions .btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
}

.hero-actions .btn:hover::before {
    left: 100%;
}

.hero-visual {
    position: relative;
    z-index: 3;
    color: #f8fafc;
}

.world-map-container {
    position: relative;
    display: inline-block;
}

.world-map {
    position: relative;
    animation: pulse 3s ease-in-out infinite;
}

.floating-elements {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

.floating-icon {
    position: absolute;
    animation: float-icon 4s ease-in-out infinite;
    animation-delay: var(--delay);
}

.floating-icon:nth-child(1) { top: 20%; left: 20%; }
.floating-icon:nth-child(2) { top: 60%; right: 20%; }
.floating-icon:nth-child(3) { bottom: 20%; left: 50%; }

@keyframes float-icon {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-15px) rotate(5deg); }
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.scroll-indicator {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 3;
}

.scroll-arrow {
    width: 30px;
    height: 30px;
    border: 2px solid rgba(255, 255, 255, 0.6);
    border-top: none;
    border-left: none;
    transform: rotate(45deg);
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0) rotate(45deg); }
    40% { transform: translateY(-10px) rotate(45deg); }
    60% { transform: translateY(-5px) rotate(45deg); }
}



/* Modal da Calculadora */
#calculatorModal .modal-content {
    border: none;
    border-radius: 15px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    color: #e2e8f0;
}

#calculatorModal .modal-header {
    border-radius: 15px 15px 0 0;
    border-bottom: 1px solid #334155;
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    color: white;
}

#calculatorModal .modal-header .btn-close {
    filter: invert(1);
}

#calculatorModal .modal-body {
    padding: 2rem;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
}

#calculatorModal .modal-footer {
    border-top: 1px solid #334155;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
}

#calculatorModal .form-control {
    background: #1e293b;
    border: 1px solid #334155;
    color: #e2e8f0;
}

#calculatorModal .form-control:focus {
    background: #1e293b;
    border-color: #22c55e;
    color: #e2e8f0;
    box-shadow: 0 0 0 0.2rem rgba(34, 197, 94, 0.25);
}

#calculatorModal .form-label {
    color: #f8fafc;
    font-weight: 500;
}

#calculatorModal .form-text {
    color: #cbd5e1;
}

#calculatorModal .btn-primary {
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    border: none;
    box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
}

#calculatorModal .btn-primary:hover {
    background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
}

#calculatorModal .btn-outline-secondary {
    border-color: #64748b;
    color: #cbd5e1;
}

#calculatorModal .btn-outline-secondary:hover {
    background: #64748b;
    border-color: #64748b;
    color: #f8fafc;
}

#calculatorModal .result-card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 15px;
}

#calculatorModal .result-card .card-header {
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%) !important;
    border-radius: 15px 15px 0 0;
}

#calculatorModal .result-card .card-body {
    background: #1e293b;
    color: #e2e8f0;
}

#calculatorModal .breakdown-item {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    margin-bottom: 0.5rem;
    padding: 0.75rem;
}

#calculatorModal .breakdown-item:hover {
    background: #1e293b;
    border-color: #22c55e;
}

#calculatorModal .spinner-border {
    color: #22c55e;
}

#calculatorModal .alert-info {
    background: #0f172a;
    border: 1px solid #334155;
    color: #e2e8f0;
}

#calculatorModal .btn-sm {
    padding: 0.25rem 0.5rem;
    font-size: 0.875rem;
}

#calculatorModal .btn-outline-info {
    border-color: #0ea5e9;
    color: #0ea5e9;
}

#calculatorModal .btn-outline-info:hover {
    background: #0ea5e9;
    border-color: #0ea5e9;
    color: #f8fafc;
}

#calculatorModal .text-success {
    color: #22c55e !important;
}

#calculatorModal .text-info {
    color: #0ea5e9 !important;
}

#calculatorModal .text-muted {
    color: #cbd5e1 !important;
}

/* Fallback para modal sem Bootstrap */
#calculatorModal.show {
    display: block !important;
}

#calculatorModal.show .modal-dialog {
    transform: none !important;
}

/* Overlay para modal manual */
#calculatorModal.show::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1040;
}

#calculatorModal.show .modal-dialog {
    z-index: 1050;
    position: relative;
}

.breakdown-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #eee;
    transition: background-color 0.2s;
}

.breakdown-item:hover {
    background-color: #f8f9fa;
}

.result-card {
    background: white;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
}

/* Calculator Highlight Section */
.calculator-highlight-section {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    color: #e2e8f0;
    position: relative;
    overflow: hidden;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
}

.calculator-highlight-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="10" y="10" width="20" height="20" fill="rgba(34,197,94,0.1)"/><rect x="40" y="30" width="15" height="15" fill="rgba(34,197,94,0.1)"/><rect x="70" y="50" width="25" height="25" fill="rgba(34,197,94,0.1)"/><rect x="20" y="70" width="18" height="18" fill="rgba(34,197,94,0.1)"/><rect x="60" y="80" width="22" height="22" fill="rgba(34,197,94,0.1)"/></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="25" cy="25" r="2" fill="rgba(59,130,246,0.1)"/><circle cx="75" cy="35" r="1.5" fill="rgba(59,130,246,0.1)"/><circle cx="45" cy="75" r="2.5" fill="rgba(59,130,246,0.1)"/><circle cx="85" cy="65" r="1" fill="rgba(59,130,246,0.1)"/></svg>');
    background-size: 300px 300px, 200px 200px;
    opacity: 0.3;
}

.calculator-features {
    margin-top: 2rem;
}

.calc-feature {
    padding: 0.5rem 0;
    font-size: 1.1rem;
}

.calculator-cta {
    background: rgba(34, 197, 94, 0.1);
    padding: 3rem 2rem;
    border-radius: 20px;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(34, 197, 94, 0.2);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    position: relative;
    overflow: hidden;
    color: #e2e8f0;
}

.calculator-cta::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    animation: rotate 20s linear infinite;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Features Section */
.features-section {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    color: #e2e8f0;
    position: relative;
    overflow: hidden;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
}

.features-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="rgba(34,197,94,0.1)"/><circle cx="80" cy="40" r="1" fill="rgba(34,197,94,0.1)"/><circle cx="40" cy="80" r="1" fill="rgba(34,197,94,0.1)"/><circle cx="60" cy="60" r="1" fill="rgba(34,197,94,0.1)"/><circle cx="10" cy="70" r="1" fill="rgba(34,197,94,0.1)"/><circle cx="90" cy="10" r="1" fill="rgba(34,197,94,0.1)"/></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M10,50 Q25,25 50,50 T90,50" stroke="rgba(59,130,246,0.05)" fill="none" stroke-width="1"/><path d="M10,30 Q25,5 50,30 T90,30" stroke="rgba(59,130,246,0.05)" fill="none" stroke-width="1"/><path d="M10,70 Q25,45 50,70 T90,70" stroke="rgba(59,130,246,0.05)" fill="none" stroke-width="1"/></svg>');
    background-size: 200px 200px, 300px 300px;
    opacity: 0.3;
}

.section-title {
    color: #f8fafc;
}

.section-subtitle {
    color: #cbd5e1;
}

.feature-card {
    background: rgba(30, 41, 59, 0.8);
    backdrop-filter: blur(20px);
    padding: 2.5rem 2rem;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    text-align: center;
    transition: all 0.4s ease;
    height: 100%;
    border: 1px solid rgba(148, 163, 184, 0.1);
    position: relative;
    overflow: hidden;
}

.feature-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #22c55e, #16a34a);
    transform: scaleX(0);
    transition: transform 0.3s ease;
}

.feature-card:hover::before {
    transform: scaleX(1);
}

.feature-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 40px rgba(0,0,0,0.15);
}

.feature-icon {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    color: white;
    font-size: 2rem;
}

.feature-card h4 {
    color: #f8fafc;
    margin-bottom: 1rem;
    font-weight: 600;
}

.feature-card p {
    color: #cbd5e1;
    margin-bottom: 1.5rem;
    line-height: 1.6;
}

.feature-highlights {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    justify-content: center;
}

/* Pricing Preview Section */
.pricing-preview-section {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    color: #e2e8f0;
    position: relative;
    overflow: hidden;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
}

.pricing-preview-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><polygon points="10,10 20,20 15,30 5,25" fill="rgba(34,197,94,0.1)"/><polygon points="70,20 80,30 75,40 65,30" fill="rgba(34,197,94,0.1)"/><polygon points="40,60 50,70 45,80 35,70" fill="rgba(34,197,94,0.1)"/><polygon points="80,70 90,80 85,90 75,80" fill="rgba(34,197,94,0.1)"/></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><line x1="10" y1="50" x2="90" y2="50" stroke="rgba(59,130,246,0.05)" stroke-width="1"/><line x1="50" y1="10" x2="50" y2="90" stroke="rgba(59,130,246,0.05)" stroke-width="1"/></svg>');
    background-size: 250px 250px, 300px 300px;
    opacity: 0.3;
}

.pricing-card {
    background: rgba(30, 41, 59, 0.8);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 2.5rem 2rem;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    transition: all 0.4s ease;
    position: relative;
    height: 100%;
    border: 2px solid rgba(148, 163, 184, 0.1);
    overflow: hidden;
}

.pricing-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.02), rgba(118, 75, 162, 0.02));
    opacity: 0;
    transition: opacity 0.3s ease;
}

.pricing-card:hover::after {
    opacity: 1;
}

.pricing-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0,0,0,0.15);
}

.pricing-card.featured {
    border-color: #667eea;
    transform: scale(1.05);
}

.pricing-badge {
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    color: white;
    padding: 0.5rem 1.5rem;
    border-radius: 25px;
    font-size: 0.9rem;
    font-weight: 600;
}

.pricing-header {
    text-align: center;
    margin-bottom: 2rem;
}

.pricing-header h4 {
    color: #f8fafc;
    margin-bottom: 1rem;
    font-weight: 600;
}

.price {
    color: #cbd5e1;
    font-size: 1.1rem;
}

.amount {
    color: #22c55e;
    font-size: 1.5rem;
    font-weight: 700;
}

.plan-features {
    list-style: none;
    padding: 0;
    margin-bottom: 2rem;
}

.plan-features li {
    padding: 0.5rem 0;
    color: #cbd5e1;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.plan-features li:before {
    content: "✓";
    color: #22c55e;
    font-weight: bold;
    margin-right: 10px;
}

.pricing-features {
    list-style: none;
    padding: 0;
    margin-bottom: 2rem;
}

.pricing-features li {
    padding: 0.5rem 0;
    color: #cbd5e1;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* Testimonials Section */
.testimonials-section {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    color: #e2e8f0;
    position: relative;
    overflow: hidden;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
}

.testimonials-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="30" cy="30" r="3" fill="rgba(34,197,94,0.1)"/><circle cx="70" cy="40" r="2" fill="rgba(34,197,94,0.1)"/><circle cx="20" cy="70" r="2.5" fill="rgba(34,197,94,0.1)"/><circle cx="80" cy="80" r="1.5" fill="rgba(34,197,94,0.1)"/></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M10,20 L90,20 M10,50 L90,50 M10,80 L90,80" stroke="rgba(59,130,246,0.05)" stroke-width="1"/></svg>');
    background-size: 200px 200px, 300px 300px;
    opacity: 0.3;
}

.testimonial-card {
    background: rgba(30, 41, 59, 0.8);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 2.5rem 2rem;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    transition: all 0.4s ease;
    height: 100%;
    border: 1px solid rgba(148, 163, 184, 0.1);
    position: relative;
    overflow: hidden;
}

.testimonial-card::before {
    content: '"';
    position: absolute;
    top: 1rem;
    right: 2rem;
    font-size: 4rem;
    color: rgba(102, 126, 234, 0.1);
    font-family: serif;
    line-height: 1;
}

.testimonial-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0,0,0,0.15);
}

.testimonial-text {
    color: #e2e8f0;
    font-style: italic;
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.testimonial-author {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.author-avatar {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.2rem;
}

.author-info h6 {
    color: #f8fafc;
    font-weight: 600;
}

/* CTA Section */
.cta-section {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    color: #e2e8f0;
    position: relative;
    overflow: hidden;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
}

.cta-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="25" cy="25" r="2" fill="rgba(34,197,94,0.1)"/><circle cx="75" cy="35" r="1.5" fill="rgba(34,197,94,0.1)"/><circle cx="45" cy="65" r="2.5" fill="rgba(34,197,94,0.1)"/><circle cx="85" cy="75" r="1" fill="rgba(34,197,94,0.1)"/></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M10,30 L90,30 M10,60 L90,60" stroke="rgba(59,130,246,0.05)" stroke-width="1"/></svg>');
    background-size: 200px 200px, 300px 300px;
    opacity: 0.3;
}

.cta-actions .btn {
    padding: 0.75rem 2rem;
    border-radius: 50px;
    font-weight: 600;
    transition: all 0.3s ease;
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: #fff;
    border: none;
}

.cta-actions .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.4);
    background: linear-gradient(135deg, #16a34a, #15803d);
}

/* Stats Section */
.stats-section {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    color: #e2e8f0;
    position: relative;
    overflow: hidden;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
}

.stats-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="15" y="15" width="10" height="10" fill="rgba(34,197,94,0.1)"/><rect x="35" y="25" width="12" height="12" fill="rgba(34,197,94,0.1)"/><rect x="55" y="35" width="8" height="8" fill="rgba(34,197,94,0.1)"/><rect x="75" y="45" width="14" height="14" fill="rgba(34,197,94,0.1)"/></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="25" cy="75" r="2" fill="rgba(59,130,246,0.1)"/><circle cx="45" cy="65" r="1.5" fill="rgba(59,130,246,0.1)"/><circle cx="65" cy="55" r="2.5" fill="rgba(59,130,246,0.1)"/><circle cx="85" cy="45" r="1" fill="rgba(59,130,246,0.1)"/></svg>');
    background-size: 200px 200px, 250px 250px;
    opacity: 0.3;
}

.stat-item {
    text-align: center;
    padding: 3rem 1rem;
    position: relative;
}

.stat-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 3px;
    background: linear-gradient(90deg, #22c55e, #16a34a);
    border-radius: 2px;
}

.stat-icon {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    color: white;
    font-size: 2rem;
}

.stat-number {
    font-size: 3rem;
    font-weight: 700;
    color: #f8fafc;
    margin-bottom: 0.5rem;
}

.stat-label {
    color: #cbd5e1;
    font-size: 1.1rem;
    font-weight: 500;
}

/* Hero Title */
.hero-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    color: #f8fafc;
}

/* Hero Description */
.hero-description {
    font-size: 1.25rem;
    margin-bottom: 2rem;
    color: #cbd5e1;
}

/* Responsividade */
@media (max-width: 768px) {
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-actions .btn {
        display: block;
        width: 100%;
        margin-bottom: 1rem;
    }
    
    .pricing-card.featured {
        transform: none;
    }
    
    .stat-number {
        font-size: 2.5rem;
    }
    
    .calculator-highlight-section .row {
        text-align: center;
    }
}

/* Animações de entrada */
.feature-card, .pricing-card, .stat-item, .testimonial-card {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.6s ease forwards;
}

.feature-card:nth-child(1) { animation-delay: 0.1s; }
.feature-card:nth-child(2) { animation-delay: 0.2s; }
.feature-card:nth-child(3) { animation-delay: 0.3s; }

.pricing-card:nth-child(1) { animation-delay: 0.1s; }
.pricing-card:nth-child(2) { animation-delay: 0.2s; }
.pricing-card:nth-child(3) { animation-delay: 0.3s; }

.stat-item:nth-child(1) { animation-delay: 0.1s; }
.stat-item:nth-child(2) { animation-delay: 0.2s; }
.stat-item:nth-child(3) { animation-delay: 0.3s; }
.stat-item:nth-child(4) { animation-delay: 0.4s; }

.testimonial-card:nth-child(1) { animation-delay: 0.1s; }
.testimonial-card:nth-child(2) { animation-delay: 0.2s; }
.testimonial-card:nth-child(3) { animation-delay: 0.3s; }

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>

{% endblock %}

<!-- JavaScript para a Calculadora - MOVIDO PARA O FINAL -->
<script>
// Debug: Verificar se o script está sendo executado
console.log('Script da calculadora carregado');

// Teste direto das funções
console.log('=== TESTE DIRETO ===');
console.log('formatarMoeda:', typeof formatarMoeda);
console.log('formatarNumero:', typeof formatarNumero);
console.log('escolherPlano:', typeof escolherPlano);
console.log('openCalculator:', typeof openCalculator);

// Função para escolher plano - DEFINIDA NO ESCOPO GLOBAL
window.escolherPlano = function(plano) {
    console.log('escolherPlano chamada com:', plano);
    
    // Salvar plano escolhido no localStorage
    localStorage.setItem('plano_escolhido', JSON.stringify({
        nome: plano,
        timestamp: new Date().toISOString()
    }));
    
    console.log('Plano salvo no localStorage, redirecionando para /contato');
    
    // Redirecionar para página de contato
    window.location.href = '/contato';
};

// Função para abrir o modal da calculadora - DEFINIDA NO ESCOPO GLOBAL
window.openCalculator = function() {
    console.log('openCalculator chamada');
    const modalElement = document.getElementById('calculatorModal');
    console.log('Modal element:', modalElement);
    
    if (!modalElement) {
        console.error('Modal não encontrado');
        return;
    }
    
    // Verificar se o Bootstrap está disponível
    if (typeof bootstrap === 'undefined') {
        console.error('Bootstrap não está disponível');
        // Fallback: mostrar o modal manualmente
        modalElement.style.display = 'block';
        modalElement.classList.add('show');
        modalElement.setAttribute('aria-hidden', 'false');
        return;
    }
    
    try {
        const modal = new bootstrap.Modal(modalElement);
        console.log('Modal criado:', modal);
        modal.show();
        console.log('Modal.show() executado');
    } catch (error) {
        console.error('Erro ao abrir modal:', error);
        // Fallback: mostrar o modal manualmente
        modalElement.style.display = 'block';
        modalElement.classList.add('show');
        modalElement.setAttribute('aria-hidden', 'false');
    }
};

// Função para fechar o modal - DEFINIDA NO ESCOPO GLOBAL
window.closeCalculator = function() {
    const modalElement = document.getElementById('calculatorModal');
    if (!modalElement) return;
    
    // Verificar se o Bootstrap está disponível
    if (typeof bootstrap !== 'undefined') {
        try {
            const modal = bootstrap.Modal.getInstance(modalElement);
            if (modal) {
                modal.hide();
                return;
            }
        } catch (error) {
            console.error('Erro ao fechar modal com Bootstrap:', error);
        }
    }
    
    // Fallback: fechar o modal manualmente
    modalElement.style.display = 'none';
    modalElement.classList.remove('show');
    modalElement.setAttribute('aria-hidden', 'true');
};

// Função para fechar o modal e rolar até a seção de preços - DEFINIDA NO ESCOPO GLOBAL
window.closeCalculatorAndScrollToPricing = function() {
    window.closeCalculator();
    
    // Aguardar o modal fechar e depois rolar
    setTimeout(() => {
        const pricingSection = document.querySelector('.pricing-preview-section');
        if (pricingSection) {
            pricingSection.scrollIntoView({ behavior: 'smooth' });
        }
    }, 300);
};

// Teste de carregamento das funções
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM carregado, verificando funções...');
    console.log('formatarMoeda disponível:', typeof formatarMoeda);
    console.log('formatarNumero disponível:', typeof formatarNumero);
    
    // Testar se as funções estão funcionando
    if (typeof formatarMoeda === 'function') {
        console.log('Teste formatarMoeda:', formatarMoeda(123.45));
    }
    if (typeof formatarNumero === 'function') {
        console.log('Teste formatarNumero:', formatarNumero(1234));
    }
    
    // Verificar se os botões estão sendo encontrados
    const botoes = document.querySelectorAll('[onclick*="escolherPlano"]');
    console.log('Botões escolherPlano encontrados:', botoes.length);
    
    const botaoCalculadora = document.querySelector('[onclick*="openCalculator"]');
    console.log('Botão calculadora encontrado:', botaoCalculadora);
    
    // Testar se as funções estão no escopo global
    console.log('Funções no escopo global:');
    console.log('window.escolherPlano:', typeof window.escolherPlano);
    console.log('window.openCalculator:', typeof window.openCalculator);
    
    // Verificar se há erros de JavaScript
    window.addEventListener('error', function(e) {
        console.error('Erro JavaScript capturado:', e.error);
    });
});

// Aguardar um pouco mais para garantir que utils.js carregou
setTimeout(function() {
    console.log('Timeout - Verificando funções novamente...');
    console.log('formatarMoeda:', typeof formatarMoeda);
    console.log('formatarNumero:', typeof formatarNumero);
    
    if (typeof formatarMoeda === 'undefined') {
        console.error('ERRO: formatarMoeda ainda não está disponível após timeout');
        // Tentar recarregar utils.js
        const script = document.createElement('script');
        script.src = '/static/js/utils.js';
        script.onload = function() {
            console.log('utils.js recarregado manualmente');
            // Verificar novamente após recarregar
            setTimeout(function() {
                console.log('Após recarregar - formatarMoeda:', typeof formatarMoeda);
                console.log('Após recarregar - formatarNumero:', typeof formatarNumero);
            }, 100);
        };
        document.head.appendChild(script);
    }
}, 1000);

// Verificar se as funções de formatação estão disponíveis
function verificarFuncoesFormatacao() {
    console.log('Verificando funções de formatação...');
    console.log('formatarMoeda:', typeof formatarMoeda);
    console.log('formatarNumero:', typeof formatarNumero);
    
    if (typeof formatarMoeda === 'undefined') {
        console.error('Função formatarMoeda não encontrada');
        return false;
    }
    if (typeof formatarNumero === 'undefined') {
        console.error('Função formatarNumero não encontrada');
        return false;
    }
    console.log('Funções de formatação encontradas');
    return true;
}

// Função para exibir resultado
function displayResult(result) {
    console.log('Função displayResult chamada com:', result);
    const resultDiv = document.getElementById('pricing-result');
    const totalPrice = document.getElementById('total-price');
    const annualPrice = document.getElementById('annual-price');
    const breakdown = document.getElementById('price-breakdown');
    const recommendation = document.getElementById('plan-recommendation');

    if (!resultDiv || !totalPrice || !breakdown) {
        console.error('Elementos de resultado não encontrados');
        return;
    }

    // Formatar preço total (usar total_cost como em /precos)
    totalPrice.textContent = formatarMoeda(result.total_cost);
    
    // Atualizar preços anuais
    if (annualPrice) {
        const annualPriceValue = result.total_cost * 12;
        annualPrice.textContent = formatarMoeda(annualPriceValue);
    }

    // Breakdown detalhado (usar a mesma estrutura de /precos)
    let breakdownHTML = '<h6 class="text-muted mb-3">Detalhamento dos Custos:</h6>';
    breakdownHTML += '<div class="row">';
    
    const labels = {
        'projects': 'Projetos',
        'layers': 'Camadas', 
        'public_maps': 'Mapas Públicos',
        'page_views': 'Visualizações',
        'employees': 'Funcionários',
        'server_usage': 'Servidor'
    };
    
    for (const [key, item] of Object.entries(result.breakdown)) {
        if (item.weighted_cost > 0) {
            breakdownHTML += `
                <div class="col-md-6 mb-2">
                    <div class="breakdown-item">
                        <span>${labels[key] || key}</span>
                        <span class="text-success fw-bold">${formatarMoeda(item.weighted_cost)}</span>
                    </div>
                </div>
            `;
        }
    }
    
    // Mostrar total de desconto por tier se disponível
    if (result.total_tier_discount > 0) {
        breakdownHTML += `
            <div class="col-12 mb-2">
                <div class="breakdown-item bg-success bg-opacity-10">
                    <span><strong>Total de Desconto por Volume:</strong></span>
                    <span class="text-success fw-bold">${formatarMoeda(result.total_tier_discount)}</span>
                </div>
            </div>
        `;
    }
    
    breakdownHTML += '</div>';
    breakdown.innerHTML = breakdownHTML;

    // Recomendação de plano
    if (recommendation) {
        generatePlanRecommendation(result.total_cost, recommendation);
    }

    resultDiv.style.display = 'block';
    console.log('Resultado exibido com sucesso');
}

// Função para atualizar plano personalizado
function updateCustomPlan(formData) {
    document.getElementById('custom-projects').textContent = `Até ${formData.projects} projetos`;
    document.getElementById('custom-layers').textContent = `Até ${formData.layers} camadas`;
    document.getElementById('custom-maps').textContent = `Até ${formData.public_maps} mapas públicos`;
    document.getElementById('custom-views').textContent = `Até ${formatarNumero(formData.page_views)} visualizações/mês`;
    document.getElementById('custom-employees').textContent = `Até ${formData.employees} funcionários`;
    document.getElementById('custom-storage').textContent = `Até ${formData.server_usage} GB de armazenamento`;
}

// Função para resetar formulário
function resetForm() {
    document.getElementById('pricingForm').reset();
    document.getElementById('pricing-result').style.display = 'none';
    
    // Resetar valores padrão
    document.getElementById('projects').value = 5;
    document.getElementById('layers').value = 100;
    document.getElementById('public_maps').value = 10;
    document.getElementById('page_views').value = 50000;
    document.getElementById('employees').value = 15;
    document.getElementById('server_usage').value = 50;
}

// Carregar preços dos planos ao carregar a página
document.addEventListener('DOMContentLoaded', async function() {
    try {
        const response = await fetch('/api/pricing/plans');
        if (response.ok) {
            const data = await response.json();
            if (data.success && data.plans) {
                updatePlanPrices(data.plans);
            }
        }
    } catch (error) {
        console.error('Erro ao carregar preços dos planos:', error);
    }
});

// Função para atualizar preços dos planos
function updatePlanPrices(plans) {
    if (plans.starter) {
        document.getElementById('starter-price').textContent = formatarMoeda(plans.starter.final_price);
        document.getElementById('starter-storage').textContent = '50 GB';
    }
    
    if (plans.professional) {
        document.getElementById('professional-price').textContent = formatarMoeda(plans.professional.final_price);
        document.getElementById('professional-storage').textContent = '500 GB';
    }
    
    if (plans.enterprise) {
        document.getElementById('enterprise-price').textContent = formatarMoeda(plans.enterprise.final_price);
        document.getElementById('enterprise-storage').textContent = '1.000 GB';
    }
}

// Função para calcular preços baseada na API real
async function calculatePrice() {
    if (!verificarFuncoesFormatacao()) {
        alert('Erro: Funções de formatação não encontradas');
        return;
    }

    const loading = document.getElementById('pricing-loading');
    const result = document.getElementById('pricing-result');
    
    if (!loading || !result) {
        console.error('Elementos de resultado não encontrados');
        return;
    }
    
    loading.style.display = 'block';
    result.style.display = 'none';

    try {
        const formData = {
            projects: parseInt(document.getElementById('projects').value) || 0,
            layers: parseInt(document.getElementById('layers').value) || 0,
            public_maps: parseInt(document.getElementById('public_maps').value) || 0,
            page_views: parseInt(document.getElementById('page_views').value) || 0,
            employees: parseInt(document.getElementById('employees').value) || 0,
            server_usage: parseFloat(document.getElementById('server_usage').value) || 0
        };

        console.log('Dados para cálculo:', formData);

        // Usar a mesma API que funciona em /precos
        const response = await fetch('/api/pricing/calculate', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
        });
        
        console.log('Resposta da API:', response);
        
        if (!response.ok) {
            throw new Error(`Erro HTTP: ${response.status}`);
        }
        
        const result = await response.json();
        console.log('Resultado da API:', result);
        
        if (result.success) {
            displayResult(result);
            // Atualizar o plano personalizado com o preço calculado
            updateCustomPlanWithPrice(result.total_cost);
        } else {
            throw new Error(result.error || 'Erro desconhecido');
        }
        
    } catch (error) {
        console.error('Erro ao calcular preços:', error);
        alert(`Erro ao calcular preços: ${error.message}`);
    } finally {
        if (loading) {
            loading.style.display = 'none';
        }
    }
}

// Função para calcular preços baseada na configuração real
async function calculatePricingFromConfig(formData) {
    try {
        // Obter configurações de preços
        const response = await fetch('/api/pricing/config');
        if (!response.ok) {
            throw new Error('Erro ao carregar configurações de preços');
        }
        
        const config = await response.json();
        
        let totalPrice = 0;
        const breakdown = {};
        
        // Calcular preço por projetos
        if (formData.projects > 0) {
            const projectConfig = config.find(c => c.nome === 'Projeto');
            if (projectConfig) {
                const projectPrice = calculateTierPrice(formData.projects, projectConfig);
                breakdown['Projetos'] = projectPrice;
                totalPrice += projectPrice;
            }
        }
        
        // Calcular preço por camadas
        if (formData.layers > 0) {
            const layerConfig = config.find(c => c.nome === 'Camada');
            if (layerConfig) {
                const layerPrice = calculateTierPrice(formData.layers, layerConfig);
                breakdown['Camadas'] = layerPrice;
                totalPrice += layerPrice;
            }
        }
        
        // Calcular preço por mapas públicos
        if (formData.public_maps > 0) {
            const mapConfig = config.find(c => c.nome === 'Mapa Público');
            if (mapConfig) {
                const mapPrice = calculateTierPrice(formData.public_maps, mapConfig);
                breakdown['Mapas Públicos'] = mapPrice;
                totalPrice += mapPrice;
            }
        }
        
        // Calcular preço por visualizações
        if (formData.page_views > 0) {
            const viewConfig = config.find(c => c.nome === 'Visualização');
            if (viewConfig) {
                const viewPrice = calculateTierPrice(formData.page_views, viewConfig);
                breakdown['Visualizações'] = viewPrice;
                totalPrice += viewPrice;
            }
        }
        
        // Calcular preço por funcionários
        if (formData.employees > 0) {
            const employeeConfig = config.find(c => c.nome === 'Funcionário');
            if (employeeConfig) {
                const employeePrice = calculateTierPrice(formData.employees, employeeConfig);
                breakdown['Funcionários'] = employeePrice;
                totalPrice += employeePrice;
            }
        }
        
        // Calcular preço por uso do servidor
        if (formData.server_usage > 0) {
            const serverConfig = config.find(c => c.nome === 'Servidor');
            if (serverConfig) {
                const serverPrice = calculateTierPrice(formData.server_usage, serverConfig);
                breakdown['Servidor'] = serverPrice;
                totalPrice += serverPrice;
            }
        }
        
        // Determinar plano recomendado
        let recommendedPlan = 'Personalizado';
        if (formData.projects <= 5 && formData.layers <= 50 && formData.page_views <= 10000) {
            recommendedPlan = 'Starter';
        } else if (formData.projects <= 25 && formData.layers <= 250 && formData.page_views <= 100000) {
            recommendedPlan = 'Professional';
        } else if (formData.projects <= 150 && formData.layers <= 1000 && formData.page_views <= 500000) {
            recommendedPlan = 'Enterprise';
        }
        
        return {
            success: true,
            total_price: totalPrice,
            breakdown: breakdown,
            recommended_plan: recommendedPlan
        };
        
    } catch (error) {
        console.error('Erro ao calcular preços:', error);
        return {
            success: false,
            error: error.message
        };
    }
}

// Função para calcular preço baseado no tier
function calculateTierPrice(quantity, config) {
    let price = config.preco_base;
    
    // Aplicar desconto por tier (apenas tiers 1, 2 e 3 disponíveis)
    if (quantity > config.tier_3_limit && config.tier_3_price > 0) {
        price = config.tier_3_price;
    } else if (quantity > config.tier_2_limit && config.tier_2_price > 0) {
        price = config.tier_2_price;
    } else if (quantity > config.tier_1_limit && config.tier_1_price > 0) {
        price = config.tier_1_price;
    }
    
    return price * quantity;
}
</script>
